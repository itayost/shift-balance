# ShiftBalance - User Flow מלא

## 🎯 Flow 1: הרשמת עובד חדש

### צד המנהל:
1. נכנס ל"ניהול עובדים"
2. לוחץ "הוסף עובד חדש"
3. ממלא: טלפון, שם מלא, תפקיד, רמה
4. המערכת יוצרת טוקן חד-פעמי
5. שולח לעובד ב-WhatsApp: "היי [שם], הנה הלינק להרשמה למערכת המשמרות: [LINK]"

### צד העובד:
1. מקבל לינק, פותח בטלפון
2. המערכת מזהה את הטוקן
3. רואה: "שלום [שם], צור סיסמה למערכת"
4. יוצר סיסמה
5. נרשם לקבלת התראות (PWA)
6. נכנס לדף הבית האישי

---

## 📅 Flow 2: הגשת זמינות שבועית

### התראה אוטומטית (יום ראשון בבוקר):
```
🔔 "תזכורת: יש להגיש זמינות לשבוע הבא עד יום חמישי 16:00"
```

### העובד:
1. נכנס למערכת → "הגש זמינות"
2. רואה לוח שבועי עם 14 משבצות (7 ימים × 2 משמרות)
3. מסמן ✅ במשמרות שזמין
4. רואה סיכום: "סימנת 8 משמרות אפשריות"
5. לוחץ "שלח זמינות"
6. מקבל אישור: "הזמינות נשלחה בהצלחה ✓"

### יום חמישי 15:00 - תזכורת:
```
⚠️ "נותרה שעה להגשת זמינות!"
```

### יום חמישי 16:01 - למי שלא הגיש:
```
❌ "לא הגשת זמינות! פנה למנהל בדחיפות"
```

---

## 🤖 Flow 3: יצירת סידור עבודה

### המנהל (יום חמישי אחרי 16:00):
1. נכנס ל"סידור עבודה"
2. רואה סטטוס: "25/28 עובדים הגישו זמינות"
3. לוחץ "צור סידור אוטומטי"

### המערכת:
```javascript
// אלגוריתם האיזון החכם
1. סורקת את כל הזמינויות
2. מחשבת לכל משמרת:
   - מינימום 1 expert או 2 intermediate
   - מקסימום 30% trainees
   - איזון בין עובדים (לא יותר מ-X משמרות רצופות)
3. יוצרת סידור אופטימלי
4. מציגה למנהל עם קוד צבעים:
   🟢 משמרת מאוזנת (ציון 80+)
   🟡 משמרת סבירה (ציון 60-79)
   🔴 משמרת חלשה (ציון <60)
```

### המנהל - עריכה ידנית:
1. גורר עובד ממשמרת למשמרת
2. המערכת מעדכנת ציון בזמן אמת
3. מקבל התראות: "אזהרה: אין אחראי משמרת בערב יום שלישי"
4. כשמרוצה - לוחץ "פרסם סידור"

---

## 📢 Flow 4: פרסום הסידור

### המערכת (מוצ"ש בבוקר):
שולחת Push לכל העובדים:
```
📅 "סידור העבודה לשבוע הבא פורסם!"
```

### העובד:
1. פותח את ההתראה
2. רואה את המשמרות שלו מודגשות
3. יכול להוסיף ליומן הטלפון

---

## 🔄 Flow 5: בקשת החלפה

### העובד המבקש:
1. נכנס למשמרת שלו (נגיד שלישי ערב)
2. לוחץ "בקש החלפה"
3. כותב סיבה (אופציונלי)
4. לוחץ "שלח בקשה"

### המערכת:
1. מוצאת את כל העובדים ש:
   - סימנו זמינות לשלישי ערב
   - לא משובצים באותה משמרת
   - באותה רמה או גבוהה יותר
2. שולחת להם Push:
```
🔄 "דוד מחפש מחליף לשלישי ערב. רוצה להיכנס?"
```

### עובד זמין:
1. רואה את ההתראה
2. לוחץ "כן, אני אכנס"
3. ההחלפה מאושרת אוטומטית

### הודעות סיום:
- למבקש: "✅ יוסי יחליף אותך בשלישי ערב"
- למחליף: "✅ אתה משובץ לשלישי ערב במקום דוד"
- לאחראי משמרת: "📢 שינוי: יוסי במקום דוד בשלישי ערב"

---

## 👨‍💼 Flow 6: אחראי משמרת

### לפני המשמרת:
1. נכנס ל"המשמרת שלי"
2. רואה כרטיסיות של הצוות:
```
┌─────────────────┐
│ 👤 יוסי כהן     │
│ 📱 050-1234567  │
│ ⭐ Expert       │
│ 🍽️ Server      │
└─────────────────┘
```
3. רואה סיכום: "3 חזקים, 2 בינוניים, 1 מתלמד"

---

## 📊 Flow 7: דשבורד מנהל

### תצוגה שבועית:
```
┌──────────────────────────────────┐
│ איזון משמרות השבוע              │
│ ■■■■■■■■□□ 85% מאוזנות         │
│                                  │
│ עובדים שביקשו הכי הרבה החלפות:  │
│ 1. דני (4 בקשות)               │
│ 2. שיר (2 בקשות)               │
│                                  │
│ חלוקת משמרות:                   │
│ בוקר: 45% | ערב: 55%           │
└──────────────────────────────────┘
```

---

## ⚡ Quick Actions בכל מסך

### עובד:
- "המשמרות שלי"
- "הגש זמינות"
- "בקש החלפה"

### אחראי משמרת:
- "המשמרת הקרובה"
- "צוות המשמרת"
- "היסטוריית משמרות"

### מנהל:
- "צור סידור"
- "ניהול עובדים"
- "דשבורד"
- "התראות מערכת"