@import url('https://fonts.googleapis.com/css2?family=Rubik:wght@300;400;500;600;700&display=swap');
@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  /* Primary Colors */
  --primary: #3B82F6; /* blue-500 */
  --primary-dark: #2563EB; /* blue-600 */
  --success: #10B981; /* emerald-500 */
  --danger: #EF4444; /* red-500 */
  --warning: #F59E0B; /* amber-500 */

  /* Card Background Colors - Very Subtle */
  --card-default: #FFFFFF; /* Pure white for most cards */
  --card-subtle: #FAFBFC; /* Very subtle gray */
  --card-active: #F0F7FF; /* Very subtle blue - for selected/active items */
  --card-success: #F0FDF4; /* Very subtle green - for available/success */
  --card-warning: #FFF7ED; /* Very subtle orange - for warnings */
  --card-danger: #FEF2F2; /* Very subtle red - for errors/danger */
  --card-muted: #F8F9FA; /* Muted gray for disabled/empty states */

  /* Legacy mappings for backwards compatibility */
  --card-blue: var(--card-active);
  --card-green: var(--card-success);
  --card-purple: var(--card-subtle);
  --card-pink: var(--card-subtle);
  --card-yellow: var(--card-subtle);
  --card-orange: var(--card-warning);
  --card-red: var(--card-danger);
  --card-gray: var(--card-muted);

  /* Background Colors */
  --bg-page: #FAFBFC; /* Very light gray-blue */
  --bg-white: #FFFFFF;

  /* Text Colors */
  --text-primary: #111827; /* gray-900 */
  --text-secondary: #6B7280; /* gray-500 */
  --text-tertiary: #9CA3AF; /* gray-400 */

  /* Border Colors */
  --border-light: #E5E7EB; /* gray-200 */
  --border-medium: #D1D5DB; /* gray-300 */

  /* Spacing */
  --safe-area-top: env(safe-area-inset-top);
  --safe-area-bottom: env(safe-area-inset-bottom);
  --safe-area-left: env(safe-area-inset-left);
  --safe-area-right: env(safe-area-inset-right);

  /* Border Radius - More Rounded */
  --radius-sm: 0.75rem;
  --radius: 1rem;
  --radius-lg: 1.25rem;
  --radius-xl: 1.5rem;
  --radius-2xl: 2rem;
  --radius-full: 9999px;

  /* Transitions */
  --transition-fast: 150ms;
  --transition-base: 250ms;
  --transition-slow: 350ms;
}

* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
  -webkit-tap-highlight-color: transparent;
}

html {
  font-family: 'Rubik', system-ui, -apple-system, sans-serif;
  direction: rtl;
  scroll-behavior: smooth;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overscroll-behavior: none;
}

body {
  background-color: var(--bg-page);
  color: var(--text-primary);
  margin: 0;
  padding: 0;
  min-height: 100vh;
  min-height: -webkit-fill-available;
  overscroll-behavior-y: contain;
}

/* Mobile App Feel */
#root {
  min-height: 100vh;
  min-height: -webkit-fill-available;
  display: flex;
  flex-direction: column;
}

/* Remove focus outlines on mobile */
@media (max-width: 768px) {
  *:focus {
    outline: none;
  }
}

/* Custom Scrollbar */
::-webkit-scrollbar {
  width: 6px;
  height: 6px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: var(--gray-300);
  border-radius: var(--radius-full);
}

/* Tap Feedback */
.tap-feedback {
  position: relative;
  overflow: hidden;
  -webkit-user-select: none;
  user-select: none;
  cursor: pointer;
}

.tap-feedback:active {
  transform: scale(0.98);
  opacity: 0.9;
}

/* Card Styles - Rounded, No Shadows */
.card {
  background-color: var(--bg-white);
  border-radius: var(--radius-lg);
  padding: 1rem;
  border: none;
  transition: none;
}

.card-interactive {
  @apply cursor-pointer;
  background-color: var(--bg-white);
  border-radius: var(--radius-lg);
  padding: 1rem;
  transition: all var(--transition-base) ease;
}

.card-interactive:active {
  transform: scale(0.98);
  opacity: 0.9;
}

/* Semantic Card Variants - Subtle */
.card-default { background-color: var(--card-default); }
.card-subtle { background-color: var(--card-subtle); }
.card-active { background-color: var(--card-active); }
.card-success { background-color: var(--card-success); }
.card-warning { background-color: var(--card-warning); }
.card-danger { background-color: var(--card-danger); }
.card-muted { background-color: var(--card-muted); }

/* Legacy support */
.card-blue { background-color: var(--card-active); }
.card-green { background-color: var(--card-success); }
.card-purple { background-color: var(--card-subtle); }
.card-pink { background-color: var(--card-subtle); }
.card-yellow { background-color: var(--card-subtle); }
.card-orange { background-color: var(--card-warning); }
.card-red { background-color: var(--card-danger); }
.card-gray { background-color: var(--card-muted); }

/* Button Styles - More Rounded */
.btn {
  @apply px-6 py-3 font-medium text-white;
  @apply inline-flex items-center justify-center;
  @apply transition-all duration-200 ease-out;
  @apply select-none;
  border-radius: var(--radius-xl);
  min-height: 48px;
  position: relative;
  overflow: hidden;
  -webkit-tap-highlight-color: transparent;
  border: none;
  box-shadow: none;
}

.btn:active {
  transform: scale(0.97);
}

.btn-primary {
  @apply btn;
  background-color: var(--primary);
}

.btn-secondary {
  @apply btn;
  background-color: var(--card-gray);
  color: var(--text-primary);
}

.btn-success {
  @apply btn;
  background-color: var(--success);
}

.btn-danger {
  @apply btn;
  background-color: var(--danger);
}

/* Floating Action Button - No Shadow */
.fab {
  @apply fixed bottom-20 left-4 z-40;
  @apply w-14 h-14 rounded-full;
  background-color: var(--primary);
  @apply text-white;
  @apply flex items-center justify-center;
  @apply transition-all duration-200;
  box-shadow: none;
  border: 2px solid var(--bg-page);
}

.fab:active {
  transform: scale(0.9);
}

/* Bottom Navigation */
.bottom-nav {
  @apply fixed bottom-0 left-0 right-0 z-50;
  background-color: var(--bg-white);
  border-top: 1px solid var(--border-light);
  @apply flex items-center justify-around;
  @apply h-16;
  padding-bottom: var(--safe-area-bottom);
  box-shadow: none;
}

.bottom-nav-item {
  @apply flex-1 flex flex-col items-center justify-center;
  @apply py-2 px-1;
  color: var(--text-tertiary);
  @apply transition-colors duration-200;
  min-height: 48px;
}

.bottom-nav-item.active {
  color: var(--primary);
}

.bottom-nav-item:active {
  background-color: var(--bg-page);
  border-radius: var(--radius);
}

/* Top App Bar */
.app-bar {
  @apply sticky top-0 z-40;
  background-color: var(--bg-white);
  border-bottom: 1px solid var(--border-light);
  @apply px-4 h-14;
  @apply flex items-center justify-between;
  padding-top: var(--safe-area-top);
  box-shadow: none;
}

/* Input Styles - More Rounded */
.input {
  @apply w-full px-4 py-3;
  background-color: var(--card-gray);
  color: var(--text-primary);
  border: none;
  border-radius: var(--radius-lg);
  @apply transition-all duration-200;
  @apply text-base;
  min-height: 48px;
}

.input:focus {
  background-color: var(--bg-white);
  outline: 2px solid var(--primary);
  outline-offset: 2px;
}

/* Badge Styles */
.badge {
  @apply inline-flex items-center px-3 py-1 rounded-full;
  @apply text-xs font-medium;
  border: none;
}

.badge-primary {
  @apply badge;
  background-color: var(--card-blue);
  color: var(--primary-dark);
}

.badge-success {
  @apply badge;
  background-color: var(--card-green);
  color: #047857;
}

.badge-warning {
  @apply badge;
  background-color: var(--card-yellow);
  color: #92400E;
}

.badge-danger {
  @apply badge;
  background-color: var(--card-red);
  color: #991B1B;
}

/* List Items */
.list-item {
  @apply flex items-center justify-between;
  @apply px-4 py-4 bg-white;
  @apply border-b border-gray-100 last:border-b-0;
  @apply transition-colors duration-200;
  min-height: 56px;
}

.list-item:active {
  @apply bg-gray-50;
}

/* Skeleton Loading */
@keyframes shimmer {
  0% {
    background-position: -468px 0;
  }
  100% {
    background-position: 468px 0;
  }
}

.skeleton {
  animation: shimmer 1.5s infinite linear;
  background: linear-gradient(to right, #f0f0f0 8%, #f8f8f8 18%, #f0f0f0 33%);
  background-size: 800px 100px;
  border-radius: var(--radius);
}

/* Pull to Refresh */
.pull-to-refresh {
  position: fixed;
  top: -60px;
  left: 50%;
  transform: translateX(-50%);
  transition: top 0.3s ease;
  z-index: 100;
}

.pull-to-refresh.active {
  top: 20px;
}

/* Modal/Sheet */
.sheet {
  @apply fixed inset-x-0 bottom-0 z-50;
  @apply bg-white rounded-t-3xl;
  @apply transform transition-transform duration-300;
  @apply shadow-2xl;
  max-height: 90vh;
  padding-bottom: var(--safe-area-bottom);
}

.sheet-backdrop {
  @apply fixed inset-0 bg-black bg-opacity-50 z-40;
  @apply transition-opacity duration-300;
}

/* Swipeable Cards */
.swipe-card {
  @apply relative;
  @apply transition-transform duration-200;
}

/* Chip Selection */
.chip {
  @apply inline-flex items-center px-4 py-2 rounded-full;
  background-color: var(--card-gray);
  color: var(--text-primary);
  @apply text-sm font-medium;
  @apply transition-all duration-200;
  @apply cursor-pointer select-none;
  min-height: 36px;
  border: none;
}

.chip:active {
  @apply scale-95;
}

.chip.active {
  background-color: var(--primary);
  @apply text-white;
}

/* Floating Labels */
.floating-label {
  @apply relative;
}

.floating-label input {
  @apply pt-6 pb-2;
}

.floating-label label {
  @apply absolute right-4 top-4;
  @apply text-sm text-gray-500;
  @apply transition-all duration-200;
  @apply pointer-events-none;
}

.floating-label input:focus + label,
.floating-label input:not(:placeholder-shown) + label {
  @apply top-1 text-xs text-blue-600;
}

/* Progress Indicators */
.progress-bar {
  @apply h-1 bg-gray-200 rounded-full overflow-hidden;
}

.progress-bar-fill {
  @apply h-full bg-blue-600;
  @apply transition-all duration-500 ease-out;
}

/* Empty States */
.empty-state {
  @apply flex flex-col items-center justify-center;
  @apply py-12 px-6 text-center;
}

.empty-state-icon {
  @apply w-24 h-24 mb-4 text-gray-300;
}

.empty-state-title {
  @apply text-lg font-medium text-gray-900 mb-2;
}

.empty-state-text {
  @apply text-sm text-gray-500;
}

/* Safe Areas for iOS */
@supports (padding: max(0px)) {
  .safe-top {
    padding-top: max(1rem, var(--safe-area-top));
  }

  .safe-bottom {
    padding-bottom: max(1rem, var(--safe-area-bottom));
  }
}

/* Disable text selection on UI elements */
.no-select {
  -webkit-user-select: none;
  -moz-user-select: none;
  -ms-user-select: none;
  user-select: none;
}

/* RTL Specific Adjustments */
[dir="rtl"] .ltr\:only {
  display: none;
}

/* Animation Classes */
@keyframes slideUp {
  from {
    transform: translateY(100%);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

@keyframes fadeIn {
  from {
    opacity: 0;
  }
  to {
    opacity: 1;
  }
}

.animate-slide-up {
  animation: slideUp 0.3s ease-out;
}

.animate-fade-in {
  animation: fadeIn 0.3s ease-out;
}

/* Ripple Effect for Touch Feedback */
@keyframes ripple {
  to {
    transform: scale(4);
    opacity: 0;
  }
}

.ripple {
  position: absolute;
  border-radius: 50%;
  background: rgba(255, 255, 255, 0.5);
  transform: scale(0);
  animation: ripple 0.6s ease-out;
  pointer-events: none;
}